# {Domain} API Contract

> Generated by PM Agent | Session: {session-id} | Date: {YYYY-MM-DD}

## Base URL
`/api/{domain}`

## Authentication
All endpoints require JWT Bearer token unless marked as `Public`.

---

## Endpoints

### POST /api/{domain}
- **Description**: Create a new {resource}
- **Auth**: Required
- **Request Body**:
  ```json
  {
    "field1": "string (required)",
    "field2": "number (optional, default: 0)"
  }
  ```
- **Response 201**:
  ```json
  {
    "id": "uuid",
    "field1": "string",
    "field2": 0,
    "created_at": "2024-01-01T00:00:00Z"
  }
  ```
- **Errors**: 401, 422

### GET /api/{domain}
- **Description**: List {resources} (paginated)
- **Auth**: Required
- **Query Params**: `page` (default: 1), `size` (default: 20)
- **Response 200**:
  ```json
  {
    "items": [...],
    "total": 100,
    "page": 1,
    "size": 20
  }
  ```

### GET /api/{domain}/{id}
- **Description**: Get single {resource}
- **Auth**: Required
- **Response 200**: Single resource object
- **Errors**: 401, 404

### PATCH /api/{domain}/{id}
- **Description**: Update {resource}
- **Auth**: Required (owner only)
- **Request Body**: Partial update fields
- **Response 200**: Updated resource object
- **Errors**: 401, 403, 404, 422

### DELETE /api/{domain}/{id}
- **Description**: Delete {resource}
- **Auth**: Required (owner only)
- **Response 204**: No content
- **Errors**: 401, 403, 404

---

## Data Models

### {Resource}
| Field | Type | Required | Description |
|-------|------|----------|-------------|
| id | UUID | auto | Primary key |
| field1 | string | yes | Description |
| field2 | number | no | Default: 0 |
| user_id | UUID | auto | Owner (FK to users) |
| created_at | datetime | auto | ISO 8601 |
| updated_at | datetime | auto | ISO 8601 |

---

## Notes
- Pagination: offset-based (page/size)
- Sorting: `?sort=created_at&order=desc` (optional)
- Filtering: `?field1=value` (optional)
